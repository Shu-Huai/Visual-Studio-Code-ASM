ORG 00H
LOOP0:
MOV R0,#55H
MOV A,R0
OUT
JMP LOOP0

ORG 70H
IN
MOV R1,A
MOV A,R0
MOV R2,A
MOV A,R1
MOV R3,A

LOOP:
MOV A,R2
SUB A,#01H
JZ EXIT1
MOV R2,A
MOV A,R3
SUB A,#01H
JZ EXIT2
MOV R3,A

JMP LOOP

EXIT1:
MOV A,R1
MOV R0,A
EXIT2:
MOV A,#05H
MOV R3,A
EX2:
MOV A,R0
OUT
MOV A,#11H
DD:
SUB A,#01H
JZ E
JMP DD
E:
MOV A,#00H
OUT
MOV A,R3
SUB A,#01H
JZ EX
MOV R3,A
MOV A,#11H
JMP DD
E:
MOV A,#00H
OUT
MOV A,R3
SUB A,#01H
JZ EX
MOV R3,A
MOV A,#11H
DD2:
SUB A,#01H
JZ E2
JMP DD2
E2:
JMP EX2

EX:
MOV A,#00H
MOV R0,#00H
MOV R1,#00H
MOV R2,#00H
MOV R3,#00H
RETI
END
